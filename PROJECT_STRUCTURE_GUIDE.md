# Port Viewer - é¡¹ç›®ç»“æ„å’Œä½¿ç”¨æŒ‡å—

## ğŸ¤” ä¸ºä»€ä¹ˆè¦åœ¨ `src-tauri` ç›®å½•è¿è¡Œ `cargo run`ï¼Ÿ

### **Tauri 2 é¡¹ç›®æ¶æ„è§£é‡Š**

Tauri 2 é‡‡ç”¨**åˆ†ç¦»å¼æ¶æ„**ï¼Œå°†å‰ç«¯å’Œåç«¯å®Œå…¨åˆ†å¼€ï¼š

```
windows-port-viewer/
â”œâ”€â”€ src-tauri/           # ğŸ¦€ Rust åç«¯é¡¹ç›®ï¼ˆç‹¬ç«‹çš„ Rust åº”ç”¨ï¼‰
â”‚   â”œâ”€â”€ Cargo.toml       # Rust é¡¹ç›®çš„ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.rs      # Rust åº”ç”¨ç¨‹åºå…¥å£
â”‚   â”‚   â”œâ”€â”€ models.rs    # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ network.rs   # ç½‘ç»œè¿æ¥è·å–
â”‚   â”‚   â”œâ”€â”€ process.rs   # è¿›ç¨‹ä¿¡æ¯å¤„ç†
â”‚   â”‚   â””â”€â”€ filter.rs    # è¿æ¥è¿‡æ»¤é€»è¾‘
â”‚   â””â”€â”€ build.rs         # Tauri æ„å»ºè„šæœ¬
â”œâ”€â”€ dist/                # ğŸŒ å‰ç«¯æ–‡ä»¶
â”‚   â””â”€â”€ index.html       # Web ç•Œé¢
â”œâ”€â”€ tauri.conf.json      # âš™ï¸ Tauri åº”ç”¨é…ç½®
â””â”€â”€ icons/               # ğŸ¨ åº”ç”¨å›¾æ ‡
    â””â”€â”€ icon.ico
```

### **å…³é”®ç†è§£**

#### **1. `src-tauri/` æ˜¯ç‹¬ç«‹çš„ Rust é¡¹ç›®**
- åŒ…å«å®Œæ•´çš„ `Cargo.toml` é…ç½®æ–‡ä»¶
- æœ‰è‡ªå·±çš„ä¾èµ–ç®¡ç†å’Œæ„å»ºç³»ç»Ÿ
- å¯ä»¥ç‹¬ç«‹ç¼–è¯‘å’Œè¿è¡Œ
- **è¿™æ˜¯çœŸæ­£çš„ Rust åº”ç”¨ç¨‹åºæ‰€åœ¨åœ°**

#### **2. é¡¹ç›®æ ¹ç›®å½•æ˜¯ Tauri å·¥ä½œç©ºé—´**
- ä¸»è¦ç”¨äº Tauri é…ç½®ï¼ˆ`tauri.conf.json`ï¼‰
- å­˜æ”¾å‰ç«¯æ–‡ä»¶ï¼ˆ`dist/`ï¼‰
- å­˜æ”¾åº”ç”¨èµ„æºï¼ˆ`icons/`ï¼‰
- **ä¸æ˜¯ Rust é¡¹ç›®æœ¬èº«**

## ğŸš€ æ­£ç¡®çš„è¿è¡Œæ–¹å¼

### **æ–¹æ³• 1ï¼šä½¿ç”¨ Tauri CLIï¼ˆæ¨èï¼‰**
```bash
# ä»é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
cd c:\rock\coding\code\my\rust\windows-port-viewer
cargo tauri dev
```

**ä¼˜åŠ¿ï¼š**
- âœ… è‡ªåŠ¨å¤„ç†å‰ç«¯å’Œåç«¯çš„é›†æˆ
- âœ… å¯åŠ¨å¼€å‘æœåŠ¡å™¨å’Œçƒ­é‡è½½
- âœ… å®Œæ•´çš„ Tauri å¼€å‘ä½“éªŒ
- âœ… è‡ªåŠ¨æ‰“å¼€ GUI çª—å£

### **æ–¹æ³• 2ï¼šç›´æ¥è¿è¡Œåç«¯ï¼ˆè°ƒè¯•ç”¨ï¼‰**
```bash
# ä» src-tauri ç›®å½•è¿è¡Œ
cd c:\rock\coding\code\my\rust\windows-port-viewer\src-tauri
cargo run
```

**ç”¨é€”ï¼š**
- ğŸ”§ è°ƒè¯•åç«¯ Rust ä»£ç 
- ğŸ”§ æµ‹è¯• Tauri å‘½ä»¤
- ğŸ”§ éªŒè¯ç½‘ç»œè¿æ¥è·å–åŠŸèƒ½
- ğŸ”§ ç‹¬ç«‹è¿è¡Œ Rust åº”ç”¨ç¨‹åº

### **æ–¹æ³• 3ï¼šæ„å»ºå‘å¸ƒç‰ˆæœ¬**
```bash
# ä»é¡¹ç›®æ ¹ç›®å½•æ„å»º
cd c:\rock\coding\code\my\rust\windows-port-viewer
cargo tauri build

# æˆ–è€…ä» src-tauri ç›®å½•æ„å»ºåç«¯
cd src-tauri
cargo build --release
```

## ğŸ“ é¡¹ç›®ç»“æ„è¯¦è§£

### **åç«¯éƒ¨åˆ†ï¼ˆ`src-tauri/`ï¼‰**
```
src-tauri/
â”œâ”€â”€ Cargo.toml           # Rust é¡¹ç›®é…ç½®
â”‚   â”œâ”€â”€ [package]        # é¡¹ç›®å…ƒä¿¡æ¯
â”‚   â”œâ”€â”€ [dependencies]   # Rust ä¾èµ–ï¼ˆtauri, serde, windowsï¼‰
â”‚   â””â”€â”€ [build-dependencies] # æ„å»ºä¾èµ–ï¼ˆtauri-buildï¼‰
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs          # ä¸»ç¨‹åºå…¥å£ï¼ŒåŒ…å« Tauri å‘½ä»¤
â”‚   â”œâ”€â”€ models.rs        # ConnectionInfo ç»“æ„ä½“å’Œæšä¸¾
â”‚   â”œâ”€â”€ network.rs       # Windows API ç½‘ç»œè¿æ¥è·å–
â”‚   â”œâ”€â”€ process.rs       # è¿›ç¨‹ä¿¡æ¯å’Œåç§°è·å–
â”‚   â””â”€â”€ filter.rs        # è¿æ¥è¿‡æ»¤é€»è¾‘
â””â”€â”€ build.rs             # Tauri æ„å»ºè„šæœ¬
```

### **å‰ç«¯éƒ¨åˆ†ï¼ˆ`dist/`ï¼‰**
```
dist/
â””â”€â”€ index.html           # å®Œæ•´çš„ GUI ç•Œé¢
    â”œâ”€â”€ HTML ç»“æ„        # ç«¯å£åˆ—è¡¨ã€è¿‡æ»¤å™¨ã€ç»Ÿè®¡é¢æ¿
    â”œâ”€â”€ CSS æ ·å¼         # ç°ä»£åŒ–æ¸å˜è®¾è®¡
    â””â”€â”€ JavaScript       # Tauri API è°ƒç”¨å’Œäº¤äº’é€»è¾‘
```

### **é…ç½®éƒ¨åˆ†**
```
tauri.conf.json          # Tauri åº”ç”¨é…ç½®
â”œâ”€â”€ app                  # åº”ç”¨åŸºæœ¬ä¿¡æ¯
â”œâ”€â”€ build                # æ„å»ºé…ç½®
â”œâ”€â”€ bundle               # æ‰“åŒ…é…ç½®
â””â”€â”€ plugins              # æ’ä»¶é…ç½®
```

## ğŸ”§ å¼€å‘å·¥ä½œæµ

### **æ—¥å¸¸å¼€å‘**
```bash
# 1. å¯åŠ¨å¼€å‘ç¯å¢ƒ
cd c:\rock\coding\code\my\rust\windows-port-viewer
cargo tauri dev

# 2. ä¿®æ”¹åç«¯ä»£ç ï¼ˆè‡ªåŠ¨é‡æ–°ç¼–è¯‘ï¼‰
# ç¼–è¾‘ src-tauri/src/*.rs æ–‡ä»¶

# 3. ä¿®æ”¹å‰ç«¯ä»£ç ï¼ˆè‡ªåŠ¨åˆ·æ–°ï¼‰
# ç¼–è¾‘ dist/index.html
```

### **è°ƒè¯•åç«¯**
```bash
# å•ç‹¬æµ‹è¯• Rust åç«¯
cd src-tauri
cargo run

# æŸ¥çœ‹æ—¥å¿—è¾“å‡º
cargo run 2>&1 | tee debug.log
```

### **æ„å»ºå‘å¸ƒç‰ˆæœ¬**
```bash
# æ„å»ºå®Œæ•´åº”ç”¨
cargo tauri build

# åªæ„å»ºåç«¯
cd src-tauri
cargo build --release
```

## â“ å¸¸è§é—®é¢˜è§£ç­”

### **Q: ä¸ºä»€ä¹ˆä¸èƒ½åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ `cargo run`ï¼Ÿ**
**A:** å› ä¸ºé¡¹ç›®æ ¹ç›®å½•ä¸æ˜¯ Rust é¡¹ç›®ï¼Œæ²¡æœ‰æœ‰æ•ˆçš„ `Cargo.toml`ã€‚çœŸæ­£çš„ Rust é¡¹ç›®åœ¨ `src-tauri/` ç›®å½•ä¸­ã€‚

### **Q: æˆ‘åº”è¯¥ä½¿ç”¨å“ªç§è¿è¡Œæ–¹å¼ï¼Ÿ**
**A:** 
- **å¼€å‘ GUI åŠŸèƒ½**ï¼šä½¿ç”¨ `cargo tauri dev`
- **è°ƒè¯•åç«¯é€»è¾‘**ï¼šä½¿ç”¨ `cd src-tauri && cargo run`
- **å‘å¸ƒåº”ç”¨**ï¼šä½¿ç”¨ `cargo tauri build`

### **Q: å¦‚ä½•å®‰è£… Tauri CLIï¼Ÿ**
**A:** 
```bash
cargo install tauri-cli
```

### **Q: æ„å»ºå¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
**A:** 
```bash
# æ¸…ç†ç¼“å­˜
cd src-tauri
cargo clean

# é‡æ–°æ„å»º
cargo build
```

## ğŸ¯ æ€»ç»“

**ä¸ºä»€ä¹ˆåœ¨ `src-tauri` è¿è¡Œ `cargo run`ï¼Ÿ**

1. **`src-tauri/` æ˜¯çœŸæ­£çš„ Rust é¡¹ç›®** - åŒ…å« `Cargo.toml` å’Œæºä»£ç 
2. **é¡¹ç›®æ ¹ç›®å½•æ˜¯å·¥ä½œç©ºé—´** - ç”¨äº Tauri é…ç½®å’Œå‰ç«¯æ–‡ä»¶
3. **åˆ†ç¦»å¼æ¶æ„** - å‰ç«¯å’Œåç«¯å®Œå…¨ç‹¬ç«‹
4. **å¼€å‘çµæ´»æ€§** - å¯ä»¥ç‹¬ç«‹è°ƒè¯•åç«¯æˆ–å®Œæ•´è¿è¡Œ GUI

**æ¨èçš„å¼€å‘æ–¹å¼ï¼š**
- ğŸ¯ **æ—¥å¸¸å¼€å‘**ï¼š`cargo tauri dev`ï¼ˆä»æ ¹ç›®å½•ï¼‰
- ğŸ”§ **åç«¯è°ƒè¯•**ï¼š`cargo run`ï¼ˆä» `src-tauri` ç›®å½•ï¼‰
- ğŸ“¦ **å‘å¸ƒæ„å»º**ï¼š`cargo tauri build`ï¼ˆä»æ ¹ç›®å½•ï¼‰

è¿™æ ·çš„æ¶æ„è®¾è®¡è®©ä½ å¯ä»¥çµæ´»åœ°å¼€å‘å’Œè°ƒè¯• Tauri åº”ç”¨ç¨‹åºï¼ğŸš€
